<!doctype html>
<html class="no-js" lang="">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>TESTE</title>
    <script src="http://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/isotope-layout@3/dist/isotope.pkgd.min.js"></script>
           <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
     <script src="https://cdn.tailwindcss.com"></script>
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">



      <style>

.grid li {
    float: left;
    height: 20px;
    width: 20px;
    list-style: none;
    margin-right: 20px;
}
li.yellow {
    background-color: yellow;
}
li.blue {
    background-color: blue;
}
li.green {
    background-color: green;
}
li.big {
    width: 70px;
    height: 70px;
}
li.medium {
    width: 50px;
    height: 50px;
}
li.small {
    height: 20px;
    width: 20px;
}

      </style>

        <script>

         function change() {
          var modelCbs = document.querySelectorAll(".caracteristica input[type='checkbox']");
          var generoCbs = document.querySelectorAll(".genero input[type='checkbox']");
          var cantaCbs = document.querySelectorAll(".canta input[type='checkbox']");
          var idiomasCbs = document.querySelectorAll(".idiomas input[type='checkbox']");
          var orientacaoCbs = document.querySelectorAll(".orientacao input[type='checkbox']");
          var etniaCbs = document.querySelectorAll(".etnia input[type='checkbox']");
          
          var filters = {
            caracteristica: getClassOfCheckedCheckboxes(caracteristicaCbs),
            genero: getClassOfCheckedCheckboxes(generoCbs),
            canta: getClassOfCheckedCheckboxes(cantaCbs),
            idiomas: getClassOfCheckedCheckboxes(idiomasCbs),
            orientacao: getClassOfCheckedCheckboxes(orientacaoCbs),
            etnia: getClassOfCheckedCheckboxes(etniaCbs)
          };

          filterResults(filters);
        }

        function getClassOfCheckedCheckboxes(checkboxes) {
          var classes = [];

          if (checkboxes && checkboxes.length > 0) {
            for (var i = 0; i < checkboxes.length; i++) {
              var cb = checkboxes[i];

              if (cb.checked) {
                classes.push(cb.getAttribute("rel"));
              }
            }
          }

          return classes;
        }

        function filterResults(filters) {
          var rElems = document.querySelectorAll(".result div");
          var hiddenElems = [];

          if (!rElems || rElems.length <= 0) {
            return;
          }

          for (var i = 0; i < rElems.length; i++) {
            var el = rElems[i];

            if (filters.caracteristica.length > 0) {
              var isHidden = true;

              for (var j = 0; j < filters.caracteristica.length; j++) {
                var filter = filters.caracteristica[j];

                if (el.classList.contains(filter)) {
                  isHidden = false;
                  break;
                }
              }

              if (isHidden) {
                hiddenElems.push(el);
              }
            }


            if (filters.genero.length > 0) {
              var isHidden = true;

              for (var j = 0; j < filters.genero.length; j++) {
                var filter = filters.genero[j];

                if (el.classList.contains(filter)) {
                  isHidden = false;
                  break;
                }
              }

              if (isHidden) {
                hiddenElems.push(el);
              }
            }


             if (filters.canta.length > 0) {
              var isHidden = true;

              for (var j = 0; j < filters.canta.length; j++) {
                var filter = filters.canta[j];

                if (el.classList.contains(filter)) {
                  isHidden = false;
                  break;
                }
              }

              if (isHidden) {
                hiddenElems.push(el);
              }
                }

    
              if (filters.idiomas.length > 0) {
              var isHidden = true;

              for (var j = 0; j < filters.idiomas.length; j++) {
                var filter = filters.idiomas[j];

                if (el.classList.contains(filter)) {
                  isHidden = false;
                  break;
                }
              }

              if (isHidden) {
                hiddenElems.push(el);
              }
            }


            if (filters.orientacao.length > 0) {
            var isHidden = true;

            for (var j = 0; j < filters.orientacao.length; j++) {
                var filter = filters.orientacao[j];

                if (el.classList.contains(filter)) {
                  isHidden = false;
                  break;
                }
              }

              if (isHidden) {
                hiddenElems.push(el);
              }
            }
            
            if (filters.etnia.length > 0) {
            var isHidden = true;

            for (var j = 0; j < filters.etnia.length; j++) {
                var filter = filters.etnia[j];

                if (el.classList.contains(filter)) {
                  isHidden = false;
                  break;
                }
              }

              if (isHidden) {
                hiddenElems.push(el);
              }
            }
            
          }


          for (var i = 0; i < rElems.length; i++) {
            rElems[i].style.display = "block";
          }

          if (hiddenElems.length <= 0) {
            return;
          }

          for (var i = 0; i < hiddenElems.length; i++) {
            hiddenElems[i].style.display = "none";
          }
        }

  </script>




    <div class="filter">

      <div class="mt-20 ml-20 p-25 p-5 text-[#1EBABD]">
                <legend>Escolha seu interesse:</legend>
            </div>
        <div class="ml-20 mr-20 px-20">
        <div class="row">
        <div class="col">
    
            <legend class="fw-bold ml-2">Categoria</legend>
                <form method="get" action="{% url 'vox:homevozes' %}" id="searchForm">
                    <div class="caracteristica">
                        <div class="checkbox">
                                <input class="form-check-input" type="checkbox" name="caracteristica" rel="infantil" onchange="change();>
                                <input type="submit" value="Infantil">
                                <label class="form-check-label"></label>
                        </div>

                        <div class="checkbox">
                                <input type="checkbox" name="caracteristica" rel="adolescente" onchange="change();>
                                <input type="submit" value="Adolescente">
                                <label class="form-check-label"></label>
                        </div>
        
                        <div class="checkbox">
                            <input type="checkbox" name="caracteristica" rel="jovem" onchange="change();>
                            <input type="submit" value="Jovem">
                            <label class="form-check-label"></label>
                        </div>
                        <div class="ml-5">
                        <div class="checkbox">
                            <input type="checkbox" name="caracteristica" rel="jovemleve" onchange="change();>
                            <input type="submit" value="Leve">
                            <label class="form-check-label"></label>
                        </div>
                         <div class="checkbox">
                             <input type="checkbox" name="caracteristica" rel="jovempesada" onchange="change();>
                             <input type="submit" value="Pesada">
                             <label class="form-check-label"></label>
                         </div>
                         </div>
        
                        <div class="checkbox">
                            <input type="checkbox" name="caracteristica" rel="adulto" onchange="change();>
                            <input type="submit" value="Adulto">
                            <label class="form-check-label"></label>
                        </div>
                        <div class="ml-5">
                         <div class="checkbox">
                             <input type="checkbox" name="caracteristica" rel="adultoleve" onchange="change();>
                             <input type="submit" value="Leve">
                             <label class="form-check-label"></label>
                         </div>
                         <div class="checkbox">
                              <input type="checkbox" name="caracteristica" rel="adultopesada" onchange="change();>
                              <input type="submit" value="Pesada">
                              <label class="form-check-label"></label>
                         </div>
                         </div>
                         <div class="checkbox">
                             <input type="checkbox" name="caracteristica" rel="meiaidade" onchange="change();>
                             <input type="submit" value="Meia idade">
                             <label class="form-check-label"></label>
                         </div>
                         <div class="checkbox">
                             <input type="checkbox" name="caracteristica" rel="idosa" onchange="change();>
                             <input type="submit" value="Idosa">
                             <label class="form-check-label"></label>
                         </div>
                        <div class="ml-5">
                        <div class="checkbox">
                            <input type="checkbox" name="caracteristica" rel="idosaleve" onchange="change();>
                            <input type="submit" value="Leve">
                            <label class="form-check-label"></label>
                        </div>
                        <div class="checkbox">
                            <input type="checkbox" name="caracteristica" rel="idosapesada" onchange="change();>
                            <input type="submit" value="Pesada">
                            <label class="form-check-label"></label>
                        </div>
                        </div>
                    </div>
                        
                    <div class="col">
                    <div class="genero">
                       <legend class="fw-bold ml-2">Gênero</legend>
                                <div class="checkbox">
                                    <input type="checkbox" name="caracteristica" rel="homemcis" onchange="change();>
                                    <input type="submit" value="Homem Cis">
                                    <label class="form-check-label"></label>
                                </div>
                                <div class="checkbox">
                                    <input type="checkbox" name="caracteristica" rel="homemtrans" onchange="change();>
                                    <input type="submit" value="Homem Trans">
                                    <label class="form-check-label"></label>
                                </div>
                                <div class="checkbox">
                                    <input type="checkbox" name="caracteristica" rel="intersexo" onchange="change();>
                                    <input type="submit" value="Intersexo">
                                    <label class="form-check-label"></label>
                                </div>
                                <div class="checkbox">
                                    <input type="checkbox" name="caracteristica" rel="mulhercis" onchange="change();>
                                    <input type="submit" value="Mulher Cis">
                                    <label class="form-check-label"></label>
                                </div>
                                <div class="checkbox">
                                    <input type="checkbox" name="caracteristica" rel="mulhertrans" onchange="change();>
                                    <input type="submit" value="Mulher Trans">
                                    <label class="form-check-label"></label>
                                </div>
                                <div class="checkbox">
                                    <input class="checkbox" type="checkbox" name="caracteristica" rel="naobinario" onchange="change();>
                                    <input type="submit" value="Não binário">
                                    <label class="form-check-label"></label>
                                </div>
                    </div>

                    <div class="canta">
                       <legend class="fw-bold ml-2">Canta</legend>
                                <div class="checkbox">
                                    <input type="checkbox" name="caracteristica" rel="csim" onchange="change();>
                                    <input type="submit" value="Sim">
                                    <label class="form-check-label"></label>
                                </div>
                                <div class="checkbox">
                                    <input type="checkbox" name="caracteristica" rel="cnao" onchange="change();>
                                    <input type="submit" value="Não">
                                    <label class="form-check-label"></label>
                                </div>
                    </div>
                    </div>
                
                  <div class="col">
                      <div class="idiomas">
                      <legend class="fw-bold ml-2">Idiomas</legend>
                                <div class="checkbox">
                                    <input type="checkbox" name="caracteristica" rel="ingles" onchange="change();>
                                    <input type="submit" value="Inglês">
                                    <label class="form-check-label"></label>
                                </div>
                                <div class="checkbox">
                                    <input type="checkbox" name="caracteristica" rel="espanhol" onchange="change();>
                                    <input type="submit" value="Espanhol">
                                    <label class="form-check-label"></label>
                                </div>
                                <div class="checkbox">
                                    <input type="checkbox" name="caracteristica" rel="outros" onchange="change();>
                                    <input type="submit" value="Outros">
                                    <label class="form-check-label"></label>
                                </div>
                      </div>

                      <div class="orientacao">
                      <legend class="fw-bold ml-2">Orientação Sexual</legend>
                                <div class="checkbox">
                                    <input type="checkbox" name="caracteristica" rel="assexual" onchange="change();>
                                    <input type="submit" value="Assexual">
                                    <label class="form-check-label"></label>
                                </div>
                                <div class="checkbox">
                                    <input type="checkbox" name="caracteristica" rel="bissexual" onchange="change();>
                                    <input type="submit" value="Bissexual">
                                    <label class="form-check-label"></label>
                                </div>
                                <div class="checkbox">
                                    <input type="checkbox" name="caracteristica" rel="heterossexual" onchange="change();>
                                    <input type="submit" value="Heterossexual">
                                    <label class="form-check-label"></label>
                                </div>
                                <div class="checkbox-check">
                                    <input type="checkbox" name="caracteristica" rel="homossexual" onchange="change();>
                                    <input type="submit" value="Homossexual">
                                    <label class="form-check-label"></label>
                                </div>
                                <div class="checkbox">
                                    <input type="checkbox" name="caracteristica" rel="pansexual" onchange="change();>
                                    <input type="submit" value="Pansexual">
                                    <label class="form-check-label"></label>
                                </div>
                      </div>
                  </div>

                  <div class="col">
                      <div class="etnia">
                      <legend class="fw-bold ml-2">Etnia</legend>
                                <div class="checkbox">
                                    <input type="checkbox" name="caracteristica" rel="amarela" onchange="change();>
                                    <input type="submit" value="Amarela">
                                    <label class="form-check-label"></label>
                                </div>
                                <div class="checkbox">
                                    <input class="form-check-input" type="checkbox" name="caracteristica" rel="branca" onchange="change();>
                                    <input type="submit" value="Branca">
                                    <label class="form-check-label"></label>
                                </div>
                                <div class="form-check">
                                    <input type="checkbox" name="caracteristica" rel="indigena" onchange="change();>
                                    <input type="submit" value="Indigena">
                                    <label class="form-check-label"></label>
                                </div>
                                <div class="checkbox">
                                    <input type="checkbox" name="caracteristica" rel="parda" onchange="change();>
                                    <input type="submit" value="Parda">
                                    <label class="form-check-label"></label>
                                </div>
                                <div class="checkbox">
                                    <input type="checkbox" name="caracteristica" rel="preta" onchange="change();>
                                    <input type="submit" value="Preta">
                                    <label class="form-check-label"></label>
                                </div>
                      </div>  
                  </div>

     </div>

     <div class="result">

            <div class="infantil adolescente jovem jovemleve jovempesada adulto adultoleve adultopesada meiaidade idosa idosaleve idosapesada">
                <div class="mt-10 ml-20 mr-20" style="display: flex; flex-wrap: wrap;" id="log">
                {% for dublador in object_list|dictsort:'nome_artistico' %}
                <div class="column">
                    <div class="p-10" style="display: flex; align-items: center; gap: 2px;">
                        <div class="image-container">
                            <img src="{{ dublador.foto.url }}" class="rounded mx-3 d-block" alt="Imagem Quadrada">
                        </div>
                        <div>
                            <a href="{% url 'vox:detalhesvoz' dublador.id %}">
                                <p class="text-[#1EBABD] text-2xl" style="margin-bottom: 1px;">{{ dublador.nome_artistico }}</p>
                            </a>
                            <div class="audio-player" style="margin-top: 2px;">
                                <audio src="{{ dublador.audio.url }}" class="m-1" controls controlsList="nodownload"></audio>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
                </div>
            </div>

              <div class="homemcis homemtrans intersexo mulhercis mulhertrans naobinario">
                    <div class="mt-10 ml-20 mr-20" style="display: flex; flex-wrap: wrap;" id="log">
                    {% for dublador in object_list|dictsort:'nome_artistico' %}
                    <div class="column">
                        <div class="p-10" style="display: flex; align-items: center; gap: 2px;">
                            <div class="image-container">
                                <img src="{{ dublador.foto.url }}" class="rounded mx-3 d-block" alt="Imagem Quadrada">
                            </div>
                            <div>
                                <a href="{% url 'vox:detalhesvoz' dublador.id %}">
                                    <p class="text-[#1EBABD] text-2xl" style="margin-bottom: 1px;">{{ dublador.nome_artistico }}</p>
                                </a>
                                <div class="audio-player" style="margin-top: 2px;">
                                    <audio src="{{ dublador.audio.url }}" class="m-1" controls controlsList="nodownload"></audio>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                    </div>
                </div>

         <div class="csim cnao">
                    <div class="mt-10 ml-20 mr-20" style="display: flex; flex-wrap: wrap;" id="log">
                    {% for dublador in object_list|dictsort:'nome_artistico' %}
                    <div class="column">
                        <div class="p-10" style="display: flex; align-items: center; gap: 2px;">
                            <div class="image-container">
                                <img src="{{ dublador.foto.url }}" class="rounded mx-3 d-block" alt="Imagem Quadrada">
                            </div>
                            <div>
                                <a href="{% url 'vox:detalhesvoz' dublador.id %}">
                                    <p class="text-[#1EBABD] text-2xl" style="margin-bottom: 1px;">{{ dublador.nome_artistico }}</p>
                                </a>
                                <div class="audio-player" style="margin-top: 2px;">
                                    <audio src="{{ dublador.audio.url }}" class="m-1" controls controlsList="nodownload"></audio>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                    </div>
                </div>

                  <div class="ingles espanhol outros">
                    <div class="mt-10 ml-20 mr-20" style="display: flex; flex-wrap: wrap;" id="log">
                    {% for dublador in object_list|dictsort:'nome_artistico' %}
                    <div class="column">
                        <div class="p-10" style="display: flex; align-items: center; gap: 2px;">
                            <div class="image-container">
                                <img src="{{ dublador.foto.url }}" class="rounded mx-3 d-block" alt="Imagem Quadrada">
                            </div>
                            <div>
                                <a href="{% url 'vox:detalhesvoz' dublador.id %}">
                                    <p class="text-[#1EBABD] text-2xl" style="margin-bottom: 1px;">{{ dublador.nome_artistico }}</p>
                                </a>
                                <div class="audio-player" style="margin-top: 2px;">
                                    <audio src="{{ dublador.audio.url }}" class="m-1" controls controlsList="nodownload"></audio>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                    </div>
                </div>

         <div class="assexual bissexual heterossexual homosexual pansexual">
                    <div class="mt-10 ml-20 mr-20" style="display: flex; flex-wrap: wrap;" id="log">
                    {% for dublador in object_list|dictsort:'nome_artistico' %}
                    <div class="column">
                        <div class="p-10" style="display: flex; align-items: center; gap: 2px;">
                            <div class="image-container">
                                <img src="{{ dublador.foto.url }}" class="rounded mx-3 d-block" alt="Imagem Quadrada">
                            </div>
                            <div>
                                <a href="{% url 'vox:detalhesvoz' dublador.id %}">
                                    <p class="text-[#1EBABD] text-2xl" style="margin-bottom: 1px;">{{ dublador.nome_artistico }}</p>
                                </a>
                                <div class="audio-player" style="margin-top: 2px;">
                                    <audio src="{{ dublador.audio.url }}" class="m-1" controls controlsList="nodownload"></audio>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                    </div>
                </div>

                 <div class="amarela branca indigena parda preta">
                    <div class="mt-10 ml-20 mr-20" style="display: flex; flex-wrap: wrap;" id="log">
                    {% for dublador in object_list|dictsort:'nome_artistico' %}
                    <div class="column">
                        <div class="p-10" style="display: flex; align-items: center; gap: 2px;">
                            <div class="image-container">
                                <img src="{{ dublador.foto.url }}" class="rounded mx-3 d-block" alt="Imagem Quadrada">
                            </div>
                            <div>
                                <a href="{% url 'vox:detalhesvoz' dublador.id %}">
                                    <p class="text-[#1EBABD] text-2xl" style="margin-bottom: 1px;">{{ dublador.nome_artistico }}</p>
                                </a>
                                <div class="audio-player" style="margin-top: 2px;">
                                    <audio src="{{ dublador.audio.url }}" class="m-1" controls controlsList="nodownload"></audio>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                    </div>
                </div>

     </div>








        <form action="{% url 'vox:homevozes' %}" method="GET">
            {% for categoria in lista_voz_categorias %}
                <input type="checkbox" name="categorias" value="{{ categoria.0 }}" id="{{ categoria.0 }}">
                <label for="{{ categoria.0 }}">{{ categoria.1 }}</label><br>
            {% endfor %}
            <button type="button" onclick="filtrarDubladores()">Filtrar</button>
        </form>

<h1>Dubladores</h1>
<div id="resultadoDubladores">
    {% if dubladores %}
        <ul>
            {% for dublador in dubladores %}
                <li>{{ dublador.nome_artistico }} - {{ dublador.dublador }}</li>
            {% endfor %}
        </ul>
    {% else %}
        <p>Nenhum dublador encontrado.</p>
    {% endif %}
</div>

<script>
    function filtrarDubladores() {
        var checkboxes = document.querySelectorAll('input[name="categorias"]:checked');
        var categorias = Array.from(checkboxes).map(function(checkbox) {
            return checkbox.value;
        });

        var resultadoDubladores = document.getElementById('resultadoDubladores');
        resultadoDubladores.innerHTML = '';

        if (categorias.length > 0) {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', '/buscar_dubladores?categorias=' + categorias.join(','), true);
            xhr.onreadystatechange = function() {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    var response = JSON.parse(xhr.responseText);
                    exibirDubladores(response);
                }
            };
            xhr.send();
        } else {
            resultadoDubladores.innerHTML = '<p>Nenhum dublador selecionado.</p>';
        }
    }

    function exibirDubladores(dubladores) {
        var resultadoDubladores = document.getElementById('resultadoDubladores');
        resultadoDubladores.innerHTML = '';

        if (dubladores.length > 0) {
            var ul = document.createElement('ul');
            dubladores.forEach(function(dublador) {
                var li = document.createElement('li');
                li.textContent = dublador.nome_artistico + ' - ' + dublador.dublador;
                ul.appendChild(li);
            });
            resultadoDubladores.appendChild(ul);
        } else {
            resultadoDubladores.innerHTML = '<p>Nenhum dublador encontrado.</p>';
        }
    }
</script>

<form method="get" action="{% url 'vox:homevozes' %}" id="buscar">
    <div class="categoria">
        <div class="checkbox">
            <input class="form-check-input" type="checkbox" name="categoria" value="infantil">
            <input type="submit" value="Infantil">
            <label class="form-check-label"></label>
        </div>
        <div class="checkbox">
            <input class="form-check-input" type="checkbox" name="categoria" value="adolescente">
            <input type="submit" value="Adolescente">
            <label class="form-check-label"></label>
        </div>
        <div class="checkbox">
            <input class="form-check-input" type="checkbox" name="categoria" value="jovem">
            <input type="submit" value="Jovem">
            <label class="form-check-label">
                        </div>
        <div class="ml-5">
            <div class="checkbox">
                <input class="form-check-input" type="checkbox" name="categoria" value="jovemleve">
                <input type="submit" value="Leve">
                <label class="form-check-label"></label>
            </div>
            <div class="checkbox">
                <input class="form-check-input" type="checkbox" name="categoria" value="jovempesada">
                <input type="submit" value="Pesada">
                <label class="form-check-label"></label>
            </div>
        </div>
        <div class="checkbox">
            <input class="form-check-input" type="checkbox" name="categoria" value="adulto">
            <input type="submit" value="Adulto">
            <label class="form-check-label"></label>
        </div>
        <div class="ml-5">
            <div class="checkbox">
                <input class="form-check-input" type="checkbox" name="categoria" value="adultoleve">
                <input type="submit" value="Leve">
                <label class="form-check-label"></label>
            </div>
            <div class="checkbox">
                <input class="form-check-input" type="checkbox" name="categoria" value="adultopesada">
                <input type="submit" value="Pesada">
                <label class="form-check-label"></label>
            </div>
        </div>
        <div class="checkbox">
            <input class="form-check-input" type="checkbox" name="categoria" value="meiaidade">
            <input type="submit" value="Meia idade">
            <label class="form-check-label"></label>
        </div>
        <div class="checkbox">
            <input class="form-check-input" type="checkbox" name="categoria" value="idosa">
            <input type="submit" value="Idosa">
            <label class="form-check-label"></label>
        </div>
        <div class="ml-5">
            <div class="checkbox">
                <input class="form-check-input" type="checkbox" name="categoria" value="idosaleve">
                <input type="submit" value="Leve">
                <label class="form-check-label"></label>
            </div>
            <div class="checkbox">
                <input class="form-check-input" type="checkbox" name="categoria" value="idosapesada">
                <input type="submit" value="Pesada">
                <label class="form-check-label"></label>
            </div>
        </div>
    </div>
</form>

